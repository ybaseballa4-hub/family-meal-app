# Difyç”¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­å®š

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€é­”æ³•ã®ã‚­ãƒƒãƒãƒ³ã‚¢ãƒ—ãƒªã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç”Ÿæˆæ©Ÿèƒ½ã‚’Difyãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆã§å®Ÿè£…ã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå®šç¾©ã§ã™ã€‚

---

## ğŸ“‹ ç›®æ¬¡
1. [ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ](#ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ)
2. [ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ](#ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ)
3. [å…¥åŠ›JSONä¾‹](#å…¥åŠ›jsonä¾‹)
4. [å‡ºåŠ›JSONä¾‹](#å‡ºåŠ›jsonä¾‹)
5. [å¤‰æ•°å®šç¾©](#å¤‰æ•°å®šç¾©)

---

## ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

```
ã‚ãªãŸã¯ã€Œé­”æ³•ã®ã‚­ãƒƒãƒãƒ³ã€ã¨ã„ã†çŒ®ç«‹ç®¡ç†ã‚¢ãƒ—ãƒªã®çŒ®ç«‹ç”Ÿæˆã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã§ã™ã€‚

# å½¹å‰²
ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å®¶æ—æ§‹æˆã€å¥½ã¿ã€éå»ã®èª¿ç†å±¥æ­´ã‚’è€ƒæ…®ã—ã¦ã€1é€±é–“åˆ†ï¼ˆ7æ—¥é–“ï¼‰ã®çŒ®ç«‹ã‚’è‡ªå‹•ç”Ÿæˆã—ã¾ã™ã€‚

# åˆ¶ç´„æ¡ä»¶
- æŒ‡å®šã—ãŸæ—¥æ•°åˆ†ã®çŒ®ç«‹ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„
- å„æ—¥ã®çŒ®ç«‹ã¯ã€Œä¸»é£Ÿã€ã€Œä¸»èœã€ã€Œå‰¯èœã€ã€Œæ±ç‰©ã€ã§æ§‹æˆã—ã¾ã™
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚„å®¶æ—ã®ã€Œè‹¦æ‰‹ãªé£Ÿæã€ã¯çµ¶å¯¾ã«ä½¿ç”¨ã—ãªã„ã§ãã ã•ã„
- åŒã˜é€±ã«åŒã˜ä¸»èœãŒé‡è¤‡ã—ãªã„ã‚ˆã†ã«ã—ã¦ãã ã•ã„
- å®¶æ—äººæ•°ã«å¿œã˜ã¦é£Ÿæã®æ•°é‡ã‚’é©åˆ‡ã«è¨ˆç®—ã—ã¦ãã ã•ã„ï¼ˆ1äººã‚ãŸã‚Š150gåŸºæº–ï¼‰

# çŒ®ç«‹æ§‹æˆãƒ«ãƒ¼ãƒ«

## ä¸»é£Ÿã®æ±ºå®š
- ç±³æ–™ç†ï¼ˆã‚«ãƒ¬ãƒ¼ã€ä¸¼ã‚‚ã®ãªã©ï¼‰ã®å ´åˆ â†’ ä¸»é£Ÿã¯ä¸è¦ï¼ˆæ–™ç†ã«å«ã¾ã‚Œã‚‹ï¼‰
- æ´‹é£Ÿï¼ˆãƒãƒ³ãƒãƒ¼ã‚°ã€ã‚°ãƒ©ã‚¿ãƒ³ãªã©ï¼‰ã®å ´åˆ â†’ ãƒ‘ãƒ³
- å’Œé£Ÿãƒ»ä¸­è¯ã®å ´åˆ â†’ ã”é£¯

## å‰¯èœã®é¸æŠ
- æ´‹é£Ÿã®å ´åˆ â†’ ã‚°ãƒªãƒ¼ãƒ³ã‚µãƒ©ãƒ€ã€ã‚³ãƒ¼ãƒ«ã‚¹ãƒ­ãƒ¼ã€ãƒãƒ†ãƒˆã‚µãƒ©ãƒ€ãªã©
- å’Œé£Ÿãƒ»ä¸­è¯ã®å ´åˆ â†’ ã»ã†ã‚Œã‚“è‰ã®ãŠã²ãŸã—ã€ãã‚“ã´ã‚‰ã”ã¼ã†ã€æ¼¬ç‰©ãªã©

## æ±ç‰©ã®é¸æŠ
- æ´‹é£Ÿã®å ´åˆ â†’ ã‚³ãƒ³ã‚½ãƒ¡ã‚¹ãƒ¼ãƒ—ã€ãƒã‚¿ãƒ¼ã‚¸ãƒ¥ã€ãƒŸãƒã‚¹ãƒˆãƒ­ãƒ¼ãƒãªã©
- å’Œé£Ÿãƒ»ä¸­è¯ã®å ´åˆ â†’ å‘³å™Œæ±ã€ã™ã¾ã—æ±ã€åµã‚¹ãƒ¼ãƒ—ãªã©

# é‡ã¿ä»˜ã‘ãƒ­ã‚¸ãƒƒã‚¯
æ–™ç†ã‚’é¸æŠã™ã‚‹éš›ã¯ã€ä»¥ä¸‹ã®å„ªå…ˆåº¦ã§é¸æŠã—ã¦ãã ã•ã„ï¼š

1. **æœ€å„ªå…ˆ**: ãƒªãƒ”ãƒ¼ãƒˆå¸Œæœ›åº¦5ï¼ˆçµ¶å¯¾ã¾ãŸé£Ÿã¹ãŸã„ï¼‰Ã— ãŠæ°—ã«å…¥ã‚Šç™»éŒ²ã‚ã‚Š
2. **å„ªå…ˆ**: ãƒªãƒ”ãƒ¼ãƒˆå¸Œæœ›åº¦4-5ã€ã¾ãŸã¯ãƒ©ãƒ³ã‚¯A
3. **é€šå¸¸**: ãƒªãƒ”ãƒ¼ãƒˆå¸Œæœ›åº¦3ã€ã¾ãŸã¯ãƒ©ãƒ³ã‚¯Bã€ã¾ãŸã¯æœªèª¿ç†ã®æ–™ç†
4. **ä½å„ªå…ˆ**: ãƒªãƒ”ãƒ¼ãƒˆå¸Œæœ›åº¦2ã€ã¾ãŸã¯ãƒ©ãƒ³ã‚¯C
5. **é¿ã‘ã‚‹**: ãƒªãƒ”ãƒ¼ãƒˆå¸Œæœ›åº¦1ã€ã¾ãŸã¯ãƒ©ãƒ³ã‚¯D

## èª¿ç†é »åº¦ã®è€ƒæ…®
- 1é€±é–“ä»¥å†…ã«èª¿ç†ã—ãŸæ–™ç† â†’ é¿ã‘ã‚‹
- 2é€±é–“ä»¥å†…ã«èª¿ç†ã—ãŸæ–™ç† â†’ ã‚„ã‚„é¿ã‘ã‚‹
- 1ãƒ¶æœˆä»¥ä¸Šèª¿ç†ã—ã¦ã„ãªã„æ–™ç† â†’ ç©æ¥µçš„ã«é¸ã¶

# æ•°é‡è¨ˆç®—
å„é£Ÿæã®æ•°é‡ã¯ä»¥ä¸‹ã®åŸºæº–ã§è¨ˆç®—ã—ã¦ãã ã•ã„ï¼š

- ç±³: 1äººã‚ãŸã‚Š150g
- è‚‰ãƒ»é­š: 1äººã‚ãŸã‚Š100gï¼ˆãƒ¡ã‚¤ãƒ³ï¼‰ã€50gï¼ˆã‚µãƒ–ï¼‰
- é‡èœ: 1äººã‚ãŸã‚Šé©é‡ï¼ˆãƒ¬ã‚¿ã‚¹0.25å€‹ã€ãƒˆãƒãƒˆ0.5å€‹ãªã©ï¼‰
- èª¿å‘³æ–™: 1äººã‚ãŸã‚Šé©é‡ï¼ˆé†¤æ²¹5mlã€å‘³å™Œ15gãªã©ï¼‰

æ•°é‡ã¯å°æ•°ç‚¹ä»¥ä¸‹ã‚’åˆ‡ã‚Šä¸Šã’ã¦æ•´æ•°ã«ã—ã¦ãã ã•ã„ã€‚

# å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
å¿…ãšæŒ‡å®šã•ã‚ŒãŸJSONå½¢å¼ã§å‡ºåŠ›ã—ã¦ãã ã•ã„ã€‚
å„æ—¥ã®çŒ®ç«‹ã«ã¯ä»¥ä¸‹ã‚’å«ã‚ã¾ã™ï¼š
- day: æ›œæ—¥ï¼ˆ"æœˆ", "ç«", "æ°´", "æœ¨", "é‡‘", "åœŸ", "æ—¥"ï¼‰
- date: æ—¥ä»˜ï¼ˆ"YYYY-MM-DD"å½¢å¼ï¼‰
- dish: ä¸»èœå
- ingredients: å®Œå…¨ãªçŒ®ç«‹ï¼ˆä¸»é£Ÿã€ä¸»èœã€å‰¯èœã€æ±ç‰©ã®é…åˆ—ï¼‰

è²·ã„ç‰©ãƒªã‚¹ãƒˆã«ã¯å…¨é£Ÿæã‚’çµ±åˆã—ã€ã‚«ãƒ†ã‚´ãƒªåˆ¥ã«æ•´ç†ã—ã¦ãã ã•ã„ã€‚

# å¿œç­”ã‚¹ã‚¿ã‚¤ãƒ«
- è¦ªã—ã¿ã‚„ã™ãã€å®¶åº­çš„ãªå£èª¿ã§è©±ã—ã¦ãã ã•ã„
- çŒ®ç«‹ã®ç†ç”±ã‚„å·¥å¤«ç‚¹ã‚’ç°¡æ½”ã«èª¬æ˜ã—ã¦ãã ã•ã„
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¦æœ›ã«æŸ”è»Ÿã«å¯¾å¿œã—ã¦ãã ã•ã„
```

---

## ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

```
ä»¥ä¸‹ã®æƒ…å ±ã‚’å…ƒã«ã€1é€±é–“åˆ†ã®çŒ®ç«‹ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚

# ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±
- å®¶æ—äººæ•°: {{family_size}}äºº
- å¥½ããªæ–™ç†: {{likes}}
- è‹¦æ‰‹ãªé£Ÿæ: {{dislikes}}
- å¥½ããªã‚¸ãƒ£ãƒ³ãƒ«: {{preferred_types}}
- å®¶æ—ãƒ¢ãƒ¼ãƒ‰: {{family_mode}}

{{#if family_mode}}
# å®¶æ—ãƒ¡ãƒ³ãƒãƒ¼æƒ…å ±
{{#each family_members}}
- {{name}} ({{age}}æ­³, {{gender}})
  - å¥½ããªæ–™ç†: {{favorite_foods}}
  - è‹¦æ‰‹ãªé£Ÿæ: {{disliked_foods}}
  - é£Ÿæ¬²ãƒ¬ãƒ™ãƒ«: {{appetite_level}}/5
{{/each}}
{{/if}}

# éå»ã®èª¿ç†å±¥æ­´
{{#each cooking_history}}
- {{dish_name}}
  - èª¿ç†æ—¥: {{cooked_date}}
  - ãƒªãƒ”ãƒ¼ãƒˆå¸Œæœ›åº¦: {{repeat_desire}}/5
  - ãƒ©ãƒ³ã‚¯: {{rank}}
  - ãƒ¡ãƒ¢: {{notes}}
{{/each}}

# ãŠæ°—ã«å…¥ã‚Šæ–™ç†
{{#each favorite_dishes}}
- {{dish_name}}
{{/each}}

# ç”ŸæˆæœŸé–“
é€±ã®é–‹å§‹æ—¥: {{week_start}}ï¼ˆæœˆæ›œæ—¥ï¼‰
é€±ã®çµ‚äº†æ—¥: {{week_end}}ï¼ˆæ—¥æ›œæ—¥ï¼‰

ä¸Šè¨˜ã®æƒ…å ±ã‚’è€ƒæ…®ã—ã¦ã€ãƒãƒ©ãƒ³ã‚¹ã®å–ã‚ŒãŸ1é€±é–“åˆ†ã®çŒ®ç«‹ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚
å¿…ãšä»¥ä¸‹ã®JSONå½¢å¼ã§å‡ºåŠ›ã—ã¦ãã ã•ã„ï¼š

{
  "menu": [
    {
      "day": "æœˆ",
      "date": "2025-11-25",
      "dish": "ä¸»èœå",
      "ingredients": {
        "dishes": [
          {
            "category": "ä¸»é£Ÿ",
            "name": "æ–™ç†å",
            "ingredients": [
              { "name": "é£Ÿæå", "qty": æ•°é‡, "unit": "å˜ä½" }
            ]
          },
          {
            "category": "ä¸»èœ",
            "name": "æ–™ç†å",
            "ingredients": [...]
          },
          {
            "category": "å‰¯èœ",
            "name": "æ–™ç†å",
            "ingredients": [...]
          },
          {
            "category": "æ±ç‰©",
            "name": "æ–™ç†å",
            "ingredients": [...]
          }
        ]
      }
    }
    // ... 7æ—¥åˆ†
  ],
  "shopping_list": [
    {
      "name": "é£Ÿæå",
      "qty": åˆè¨ˆæ•°é‡,
      "unit": "å˜ä½",
      "category": "ã‚«ãƒ†ã‚´ãƒª"
    }
    // ... å…¨é£Ÿæ
  ]
}
```

---

## å…¥åŠ›JSONä¾‹

### åŸºæœ¬çš„ãªå…¥åŠ›ï¼ˆå€‹äººãƒ¢ãƒ¼ãƒ‰ï¼‰

```json
{
  "family_size": 4,
  "likes": "ã‚«ãƒ¬ãƒ¼, ãƒãƒ³ãƒãƒ¼ã‚°, ãƒ‘ã‚¹ã‚¿, ç„¼ãé­š",
  "dislikes": "ã‚»ãƒ­ãƒª, ãƒ‘ã‚¯ãƒãƒ¼, ãªã™",
  "preferred_types": ["å’Œé£Ÿ", "æ´‹é£Ÿ"],
  "family_mode": false,
  "week_start": "2025-12-02",
  "week_end": "2025-12-08",
  "cooking_history": [
    {
      "dish_name": "ãƒãƒ³ãƒãƒ¼ã‚°",
      "cooked_date": "2025-11-20",
      "taste_rating": 5,
      "cooking_time_rating": 4,
      "repeat_desire": 5,
      "overall_score": 14.0,
      "rank": "A",
      "notes": "å­ä¾›ãŒå–œã‚“ã "
    },
    {
      "dish_name": "ã‚«ãƒ¬ãƒ¼ãƒ©ã‚¤ã‚¹",
      "cooked_date": "2025-11-27",
      "taste_rating": 4,
      "cooking_time_rating": 3,
      "repeat_desire": 4,
      "overall_score": 11.0,
      "rank": "B",
      "notes": "ã„ã¤ã‚‚é€šã‚Šç¾å‘³ã—ã„"
    },
    {
      "dish_name": "ç”Ÿå§œç„¼ã",
      "cooked_date": "2025-11-15",
      "taste_rating": 4,
      "cooking_time_rating": 5,
      "repeat_desire": 3,
      "overall_score": 12.0,
      "rank": "B",
      "notes": "ç°¡å˜ã§è‰¯ã„"
    }
  ],
  "favorite_dishes": [
    { "dish_name": "ãƒãƒ³ãƒãƒ¼ã‚°" },
    { "dish_name": "ãƒ‘ã‚¹ã‚¿ã‚«ãƒ«ãƒœãƒŠãƒ¼ãƒ©" },
    { "dish_name": "è‚‰ã˜ã‚ƒãŒ" }
  ]
}
```

### å®¶æ—ãƒ¢ãƒ¼ãƒ‰ã®å…¥åŠ›

```json
{
  "family_size": 4,
  "likes": "ã‚«ãƒ¬ãƒ¼, ãƒãƒ³ãƒãƒ¼ã‚°, ç„¼ãé­š",
  "dislikes": "ã‚»ãƒ­ãƒª, ãƒ‘ã‚¯ãƒãƒ¼",
  "preferred_types": ["å’Œé£Ÿ", "æ´‹é£Ÿ", "ä¸­è¯"],
  "family_mode": true,
  "family_members": [
    {
      "id": "mem-001",
      "name": "å¤ªéƒ",
      "birth_date": "2010-05-15",
      "age": 15,
      "gender": "male",
      "appetite_level": 4,
      "favorite_foods": "ãƒãƒ³ãƒãƒ¼ã‚°, ã‚«ãƒ¬ãƒ¼, ã‹ã‚‰æšã’",
      "disliked_foods": "ãƒ”ãƒ¼ãƒãƒ³, ã«ã‚“ã˜ã‚“"
    },
    {
      "id": "mem-002",
      "name": "èŠ±å­",
      "birth_date": "2013-08-20",
      "age": 12,
      "gender": "female",
      "appetite_level": 3,
      "favorite_foods": "ãƒ‘ã‚¹ã‚¿, ã‚°ãƒ©ã‚¿ãƒ³, ã‚ªãƒ ãƒ©ã‚¤ã‚¹",
      "disliked_foods": "ã—ã„ãŸã‘, ç”Ÿé­š"
    },
    {
      "id": "mem-003",
      "name": "çˆ¶",
      "birth_date": "1980-03-10",
      "age": 45,
      "gender": "male",
      "appetite_level": 4,
      "favorite_foods": "ç„¼ãé­š, è‚‰ã˜ã‚ƒãŒ, ç”Ÿå§œç„¼ã",
      "disliked_foods": ""
    },
    {
      "id": "mem-004",
      "name": "æ¯",
      "birth_date": "1982-07-25",
      "age": 43,
      "gender": "female",
      "appetite_level": 3,
      "favorite_foods": "ã‚µãƒ©ãƒ€, ãƒ‘ã‚¹ã‚¿, ç…®ç‰©",
      "disliked_foods": "ãªã™"
    }
  ],
  "week_start": "2025-12-02",
  "week_end": "2025-12-08",
  "cooking_history": [
    {
      "dish_name": "ã‚«ãƒ¬ãƒ¼ãƒ©ã‚¤ã‚¹",
      "cooked_date": "2025-11-28",
      "taste_rating": 5,
      "cooking_time_rating": 4,
      "repeat_desire": 5,
      "overall_score": 14.0,
      "rank": "A",
      "notes": "å®¶æ—å…¨å“¡å¤§å¥½ã"
    },
    {
      "dish_name": "ãƒãƒ³ãƒãƒ¼ã‚°",
      "cooked_date": "2025-11-25",
      "taste_rating": 4,
      "cooking_time_rating": 3,
      "repeat_desire": 4,
      "overall_score": 11.0,
      "rank": "B",
      "notes": "å­ä¾›ãŸã¡ã«äººæ°—"
    }
  ],
  "favorite_dishes": [
    { "dish_name": "ã‚«ãƒ¬ãƒ¼ãƒ©ã‚¤ã‚¹" },
    { "dish_name": "ãƒãƒ³ãƒãƒ¼ã‚°" },
    { "dish_name": "ã‹ã‚‰æšã’" },
    { "dish_name": "ãƒ‘ã‚¹ã‚¿ã‚«ãƒ«ãƒœãƒŠãƒ¼ãƒ©" }
  ]
}
```

### æœ€å°é™ã®å…¥åŠ›ï¼ˆæ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼‰

```json
{
  "family_size": 2,
  "likes": "å’Œé£Ÿ, é­šæ–™ç†",
  "dislikes": "è¾›ã„ã‚‚ã®",
  "preferred_types": ["å’Œé£Ÿ"],
  "family_mode": false,
  "week_start": "2025-12-02",
  "week_end": "2025-12-08",
  "cooking_history": [],
  "favorite_dishes": []
}
```

---

## å‡ºåŠ›JSONä¾‹

### æ¨™æº–çš„ãªå‡ºåŠ›

```json
{
  "menu": [
    {
      "day": "æœˆ",
      "date": "2025-12-02",
      "dish": "ãƒãƒ³ãƒãƒ¼ã‚°",
      "ingredients": {
        "dishes": [
          {
            "category": "ä¸»é£Ÿ",
            "name": "ãƒ‘ãƒ³",
            "ingredients": [
              { "name": "ãƒ‘ãƒ³", "qty": 4, "unit": "å€‹" }
            ]
          },
          {
            "category": "ä¸»èœ",
            "name": "ãƒãƒ³ãƒãƒ¼ã‚°",
            "ingredients": [
              { "name": "åˆã„ã³ãè‚‰", "qty": 400, "unit": "g" },
              { "name": "ç‰ã­ã", "qty": 1, "unit": "å€‹" },
              { "name": "ãƒ‘ãƒ³ç²‰", "qty": 50, "unit": "g" },
              { "name": "åµ", "qty": 1, "unit": "å€‹" },
              { "name": "ç‰›ä¹³", "qty": 50, "unit": "ml" },
              { "name": "å¡©", "qty": 5, "unit": "g" },
              { "name": "èƒ¡æ¤’", "qty": 2, "unit": "g" }
            ]
          },
          {
            "category": "å‰¯èœ",
            "name": "ã‚°ãƒªãƒ¼ãƒ³ã‚µãƒ©ãƒ€",
            "ingredients": [
              { "name": "ãƒ¬ã‚¿ã‚¹", "qty": 1, "unit": "å€‹" },
              { "name": "ãƒˆãƒãƒˆ", "qty": 2, "unit": "å€‹" },
              { "name": "ãã‚…ã†ã‚Š", "qty": 1, "unit": "æœ¬" },
              { "name": "ãƒ‰ãƒ¬ãƒƒã‚·ãƒ³ã‚°", "qty": 60, "unit": "ml" }
            ]
          },
          {
            "category": "æ±ç‰©",
            "name": "ã‚³ãƒ³ã‚½ãƒ¡ã‚¹ãƒ¼ãƒ—",
            "ingredients": [
              { "name": "ã‚³ãƒ³ã‚½ãƒ¡", "qty": 2, "unit": "å€‹" },
              { "name": "ç‰ã­ã", "qty": 1, "unit": "å€‹" },
              { "name": "ã«ã‚“ã˜ã‚“", "qty": 1, "unit": "æœ¬" },
              { "name": "æ°´", "qty": 800, "unit": "ml" }
            ]
          }
        ]
      }
    },
    {
      "day": "ç«",
      "date": "2025-12-03",
      "dish": "ç”Ÿå§œç„¼ã",
      "ingredients": {
        "dishes": [
          {
            "category": "ä¸»é£Ÿ",
            "name": "ã”é£¯",
            "ingredients": [
              { "name": "ç±³", "qty": 600, "unit": "g" }
            ]
          },
          {
            "category": "ä¸»èœ",
            "name": "ç”Ÿå§œç„¼ã",
            "ingredients": [
              { "name": "è±šãƒ­ãƒ¼ã‚¹è‚‰", "qty": 400, "unit": "g" },
              { "name": "ç”Ÿå§œ", "qty": 20, "unit": "g" },
              { "name": "é†¤æ²¹", "qty": 40, "unit": "ml" },
              { "name": "ã¿ã‚Šã‚“", "qty": 40, "unit": "ml" },
              { "name": "é…’", "qty": 20, "unit": "ml" },
              { "name": "ç‰ã­ã", "qty": 1, "unit": "å€‹" }
            ]
          },
          {
            "category": "å‰¯èœ",
            "name": "ã»ã†ã‚Œã‚“è‰ã®ãŠã²ãŸã—",
            "ingredients": [
              { "name": "ã»ã†ã‚Œã‚“è‰", "qty": 2, "unit": "æŸ" },
              { "name": "ã‹ã¤ãŠç¯€", "qty": 8, "unit": "g" },
              { "name": "é†¤æ²¹", "qty": 20, "unit": "ml" }
            ]
          },
          {
            "category": "æ±ç‰©",
            "name": "å‘³å™Œæ±",
            "ingredients": [
              { "name": "å‘³å™Œ", "qty": 60, "unit": "g" },
              { "name": "æœ¨ç¶¿è±†è…", "qty": 2, "unit": "ä¸" },
              { "name": "ã‚ã‹ã‚", "qty": 20, "unit": "g" },
              { "name": "ã ã—", "qty": 800, "unit": "ml" }
            ]
          }
        ]
      }
    },
    {
      "day": "æ°´",
      "date": "2025-12-04",
      "dish": "é®­ã®å¡©ç„¼ã",
      "ingredients": {
        "dishes": [
          {
            "category": "ä¸»é£Ÿ",
            "name": "ã”é£¯",
            "ingredients": [
              { "name": "ç±³", "qty": 600, "unit": "g" }
            ]
          },
          {
            "category": "ä¸»èœ",
            "name": "é®­ã®å¡©ç„¼ã",
            "ingredients": [
              { "name": "é®­", "qty": 4, "unit": "åˆ‡ã‚Œ" },
              { "name": "å¡©", "qty": 8, "unit": "g" },
              { "name": "ãƒ¬ãƒ¢ãƒ³", "qty": 1, "unit": "å€‹" }
            ]
          },
          {
            "category": "å‰¯èœ",
            "name": "ãã‚“ã´ã‚‰ã”ã¼ã†",
            "ingredients": [
              { "name": "ã”ã¼ã†", "qty": 1, "unit": "æœ¬" },
              { "name": "ã«ã‚“ã˜ã‚“", "qty": 1, "unit": "æœ¬" },
              { "name": "é†¤æ²¹", "qty": 30, "unit": "ml" },
              { "name": "ã¿ã‚Šã‚“", "qty": 30, "unit": "ml" },
              { "name": "ã”ã¾æ²¹", "qty": 15, "unit": "ml" },
              { "name": "å”è¾›å­", "qty": 1, "unit": "æœ¬" }
            ]
          },
          {
            "category": "æ±ç‰©",
            "name": "å‘³å™Œæ±",
            "ingredients": [
              { "name": "å‘³å™Œ", "qty": 60, "unit": "g" },
              { "name": "å¤§æ ¹", "qty": 1, "unit": "æœ¬" },
              { "name": "æ²¹æšã’", "qty": 2, "unit": "æš" },
              { "name": "ã ã—", "qty": 800, "unit": "ml" }
            ]
          }
        ]
      }
    },
    {
      "day": "æœ¨",
      "date": "2025-12-05",
      "dish": "ãƒ‘ã‚¹ã‚¿ã‚«ãƒ«ãƒœãƒŠãƒ¼ãƒ©",
      "ingredients": {
        "dishes": [
          {
            "category": "ä¸»èœ",
            "name": "ãƒ‘ã‚¹ã‚¿ã‚«ãƒ«ãƒœãƒŠãƒ¼ãƒ©",
            "ingredients": [
              { "name": "ã‚¹ãƒ‘ã‚²ãƒƒãƒ†ã‚£", "qty": 400, "unit": "g" },
              { "name": "ãƒ™ãƒ¼ã‚³ãƒ³", "qty": 100, "unit": "g" },
              { "name": "åµ", "qty": 4, "unit": "å€‹" },
              { "name": "ãƒ‘ãƒ«ãƒ¡ã‚¶ãƒ³ãƒãƒ¼ã‚º", "qty": 60, "unit": "g" },
              { "name": "ç”Ÿã‚¯ãƒªãƒ¼ãƒ ", "qty": 200, "unit": "ml" },
              { "name": "ã«ã‚“ã«ã", "qty": 2, "unit": "ç‰‡" },
              { "name": "å¡©", "qty": 8, "unit": "g" },
              { "name": "é»’èƒ¡æ¤’", "qty": 4, "unit": "g" }
            ]
          },
          {
            "category": "å‰¯èœ",
            "name": "ã‚·ãƒ¼ã‚¶ãƒ¼ã‚µãƒ©ãƒ€",
            "ingredients": [
              { "name": "ãƒ¬ã‚¿ã‚¹", "qty": 1, "unit": "å€‹" },
              { "name": "ãƒˆãƒãƒˆ", "qty": 2, "unit": "å€‹" },
              { "name": "ã‚·ãƒ¼ã‚¶ãƒ¼ãƒ‰ãƒ¬ãƒƒã‚·ãƒ³ã‚°", "qty": 60, "unit": "ml" },
              { "name": "ã‚¯ãƒ«ãƒˆãƒ³", "qty": 40, "unit": "g" }
            ]
          },
          {
            "category": "æ±ç‰©",
            "name": "ãƒŸãƒã‚¹ãƒˆãƒ­ãƒ¼ãƒ",
            "ingredients": [
              { "name": "ãƒˆãƒãƒˆç¼¶", "qty": 1, "unit": "ç¼¶" },
              { "name": "ç‰ã­ã", "qty": 1, "unit": "å€‹" },
              { "name": "ã«ã‚“ã˜ã‚“", "qty": 1, "unit": "æœ¬" },
              { "name": "ã‚­ãƒ£ãƒ™ãƒ„", "qty": 1, "unit": "å€‹" },
              { "name": "ã‚³ãƒ³ã‚½ãƒ¡", "qty": 2, "unit": "å€‹" }
            ]
          }
        ]
      }
    },
    {
      "day": "é‡‘",
      "date": "2025-12-06",
      "dish": "è‚‰ã˜ã‚ƒãŒ",
      "ingredients": {
        "dishes": [
          {
            "category": "ä¸»é£Ÿ",
            "name": "ã”é£¯",
            "ingredients": [
              { "name": "ç±³", "qty": 600, "unit": "g" }
            ]
          },
          {
            "category": "ä¸»èœ",
            "name": "è‚‰ã˜ã‚ƒãŒ",
            "ingredients": [
              { "name": "ç‰›è‚‰", "qty": 300, "unit": "g" },
              { "name": "ã˜ã‚ƒãŒã„ã‚‚", "qty": 4, "unit": "å€‹" },
              { "name": "ç‰ã­ã", "qty": 2, "unit": "å€‹" },
              { "name": "ã«ã‚“ã˜ã‚“", "qty": 1, "unit": "æœ¬" },
              { "name": "ã—ã‚‰ãŸã", "qty": 1, "unit": "è¢‹" },
              { "name": "é†¤æ²¹", "qty": 60, "unit": "ml" },
              { "name": "ã¿ã‚Šã‚“", "qty": 60, "unit": "ml" },
              { "name": "ç ‚ç³–", "qty": 30, "unit": "g" },
              { "name": "ã ã—", "qty": 400, "unit": "ml" }
            ]
          },
          {
            "category": "å‰¯èœ",
            "name": "ãã‚…ã†ã‚Šã®æµ…æ¼¬ã‘",
            "ingredients": [
              { "name": "ãã‚…ã†ã‚Š", "qty": 2, "unit": "æœ¬" },
              { "name": "å¡©", "qty": 10, "unit": "g" }
            ]
          },
          {
            "category": "æ±ç‰©",
            "name": "å‘³å™Œæ±",
            "ingredients": [
              { "name": "å‘³å™Œ", "qty": 60, "unit": "g" },
              { "name": "é•·ã­ã", "qty": 1, "unit": "æœ¬" },
              { "name": "ã‚ã‹ã‚", "qty": 20, "unit": "g" },
              { "name": "ã ã—", "qty": 800, "unit": "ml" }
            ]
          }
        ]
      }
    },
    {
      "day": "åœŸ",
      "date": "2025-12-07",
      "dish": "é¶ã®ç…§ã‚Šç„¼ã",
      "ingredients": {
        "dishes": [
          {
            "category": "ä¸»é£Ÿ",
            "name": "ã”é£¯",
            "ingredients": [
              { "name": "ç±³", "qty": 600, "unit": "g" }
            ]
          },
          {
            "category": "ä¸»èœ",
            "name": "é¶ã®ç…§ã‚Šç„¼ã",
            "ingredients": [
              { "name": "é¶ã‚‚ã‚‚è‚‰", "qty": 400, "unit": "g" },
              { "name": "é†¤æ²¹", "qty": 40, "unit": "ml" },
              { "name": "ã¿ã‚Šã‚“", "qty": 40, "unit": "ml" },
              { "name": "ç ‚ç³–", "qty": 20, "unit": "g" },
              { "name": "é…’", "qty": 20, "unit": "ml" }
            ]
          },
          {
            "category": "å‰¯èœ",
            "name": "å°æ¾èœã®ãŠã²ãŸã—",
            "ingredients": [
              { "name": "å°æ¾èœ", "qty": 2, "unit": "æŸ" },
              { "name": "ã‹ã¤ãŠç¯€", "qty": 8, "unit": "g" },
              { "name": "é†¤æ²¹", "qty": 20, "unit": "ml" }
            ]
          },
          {
            "category": "æ±ç‰©",
            "name": "ã™ã¾ã—æ±",
            "ingredients": [
              { "name": "è±†è…", "qty": 1, "unit": "ä¸" },
              { "name": "ã‚ã‹ã‚", "qty": 20, "unit": "g" },
              { "name": "ã ã—", "qty": 800, "unit": "ml" },
              { "name": "å¡©", "qty": 8, "unit": "g" },
              { "name": "é†¤æ²¹", "qty": 10, "unit": "ml" }
            ]
          }
        ]
      }
    },
    {
      "day": "æ—¥",
      "date": "2025-12-08",
      "dish": "ã‚ªãƒ ãƒ©ã‚¤ã‚¹",
      "ingredients": {
        "dishes": [
          {
            "category": "ä¸»èœ",
            "name": "ã‚ªãƒ ãƒ©ã‚¤ã‚¹",
            "ingredients": [
              { "name": "ç±³", "qty": 600, "unit": "g" },
              { "name": "åµ", "qty": 8, "unit": "å€‹" },
              { "name": "é¶è‚‰", "qty": 200, "unit": "g" },
              { "name": "ç‰ã­ã", "qty": 1, "unit": "å€‹" },
              { "name": "ã‚±ãƒãƒ£ãƒƒãƒ—", "qty": 100, "unit": "ml" },
              { "name": "ãƒã‚¿ãƒ¼", "qty": 40, "unit": "g" },
              { "name": "å¡©", "qty": 8, "unit": "g" },
              { "name": "èƒ¡æ¤’", "qty": 4, "unit": "g" }
            ]
          },
          {
            "category": "å‰¯èœ",
            "name": "ã‚³ãƒ¼ãƒ«ã‚¹ãƒ­ãƒ¼",
            "ingredients": [
              { "name": "ã‚­ãƒ£ãƒ™ãƒ„", "qty": 1, "unit": "å€‹" },
              { "name": "ã«ã‚“ã˜ã‚“", "qty": 1, "unit": "æœ¬" },
              { "name": "ãƒãƒ¨ãƒãƒ¼ã‚º", "qty": 60, "unit": "ml" },
              { "name": "é…¢", "qty": 20, "unit": "ml" },
              { "name": "ç ‚ç³–", "qty": 10, "unit": "g" }
            ]
          },
          {
            "category": "æ±ç‰©",
            "name": "é‡èœã‚¹ãƒ¼ãƒ—",
            "ingredients": [
              { "name": "ç‰ã­ã", "qty": 1, "unit": "å€‹" },
              { "name": "ã«ã‚“ã˜ã‚“", "qty": 1, "unit": "æœ¬" },
              { "name": "ã‚»ãƒ­ãƒª", "qty": 1, "unit": "æœ¬" },
              { "name": "ã‚³ãƒ³ã‚½ãƒ¡", "qty": 2, "unit": "å€‹" },
              { "name": "æ°´", "qty": 800, "unit": "ml" }
            ]
          }
        ]
      }
    }
  ],
  "shopping_list": [
    { "name": "ç±³", "qty": 3600, "unit": "g", "category": "ä¸»é£Ÿ" },
    { "name": "ãƒ‘ãƒ³", "qty": 4, "unit": "å€‹", "category": "ä¸»é£Ÿ" },
    { "name": "ã‚¹ãƒ‘ã‚²ãƒƒãƒ†ã‚£", "qty": 400, "unit": "g", "category": "ä¸»é£Ÿ" },
    { "name": "åˆã„ã³ãè‚‰", "qty": 400, "unit": "g", "category": "è‚‰é¡" },
    { "name": "è±šãƒ­ãƒ¼ã‚¹è‚‰", "qty": 400, "unit": "g", "category": "è‚‰é¡" },
    { "name": "ç‰›è‚‰", "qty": 300, "unit": "g", "category": "è‚‰é¡" },
    { "name": "é¶ã‚‚ã‚‚è‚‰", "qty": 400, "unit": "g", "category": "è‚‰é¡" },
    { "name": "é¶è‚‰", "qty": 200, "unit": "g", "category": "è‚‰é¡" },
    { "name": "ãƒ™ãƒ¼ã‚³ãƒ³", "qty": 100, "unit": "g", "category": "è‚‰é¡" },
    { "name": "é®­", "qty": 4, "unit": "åˆ‡ã‚Œ", "category": "é­šä»‹é¡" },
    { "name": "ç‰ã­ã", "qty": 10, "unit": "å€‹", "category": "é‡èœ" },
    { "name": "ã«ã‚“ã˜ã‚“", "qty": 6, "unit": "æœ¬", "category": "é‡èœ" },
    { "name": "ãƒ¬ã‚¿ã‚¹", "qty": 2, "unit": "å€‹", "category": "é‡èœ" },
    { "name": "ãƒˆãƒãƒˆ", "qty": 4, "unit": "å€‹", "category": "é‡èœ" },
    { "name": "ãã‚…ã†ã‚Š", "qty": 3, "unit": "æœ¬", "category": "é‡èœ" },
    { "name": "ã‚­ãƒ£ãƒ™ãƒ„", "qty": 2, "unit": "å€‹", "category": "é‡èœ" },
    { "name": "ã»ã†ã‚Œã‚“è‰", "qty": 2, "unit": "æŸ", "category": "é‡èœ" },
    { "name": "å°æ¾èœ", "qty": 2, "unit": "æŸ", "category": "é‡èœ" },
    { "name": "ã”ã¼ã†", "qty": 1, "unit": "æœ¬", "category": "é‡èœ" },
    { "name": "ã˜ã‚ƒãŒã„ã‚‚", "qty": 4, "unit": "å€‹", "category": "é‡èœ" },
    { "name": "å¤§æ ¹", "qty": 1, "unit": "æœ¬", "category": "é‡èœ" },
    { "name": "é•·ã­ã", "qty": 1, "unit": "æœ¬", "category": "é‡èœ" },
    { "name": "ã‚»ãƒ­ãƒª", "qty": 1, "unit": "æœ¬", "category": "é‡èœ" },
    { "name": "åµ", "qty": 14, "unit": "å€‹", "category": "åµãƒ»ä¹³è£½å“" },
    { "name": "ç‰›ä¹³", "qty": 50, "unit": "ml", "category": "åµãƒ»ä¹³è£½å“" },
    { "name": "ç”Ÿã‚¯ãƒªãƒ¼ãƒ ", "qty": 200, "unit": "ml", "category": "åµãƒ»ä¹³è£½å“" },
    { "name": "ãƒ‘ãƒ«ãƒ¡ã‚¶ãƒ³ãƒãƒ¼ã‚º", "qty": 60, "unit": "g", "category": "åµãƒ»ä¹³è£½å“" },
    { "name": "ãƒã‚¿ãƒ¼", "qty": 40, "unit": "g", "category": "åµãƒ»ä¹³è£½å“" },
    { "name": "æœ¨ç¶¿è±†è…", "qty": 3, "unit": "ä¸", "category": "è±†è…ãƒ»ç·´ã‚Šç‰©" },
    { "name": "æ²¹æšã’", "qty": 2, "unit": "æš", "category": "è±†è…ãƒ»ç·´ã‚Šç‰©" },
    { "name": "ã—ã‚‰ãŸã", "qty": 1, "unit": "è¢‹", "category": "è±†è…ãƒ»ç·´ã‚Šç‰©" },
    { "name": "ã‚ã‹ã‚", "qty": 60, "unit": "g", "category": "ä¹¾ç‰©" },
    { "name": "ã‹ã¤ãŠç¯€", "qty": 16, "unit": "g", "category": "ä¹¾ç‰©" },
    { "name": "é†¤æ²¹", "qty": 280, "unit": "ml", "category": "èª¿å‘³æ–™" },
    { "name": "å‘³å™Œ", "qty": 180, "unit": "g", "category": "èª¿å‘³æ–™" },
    { "name": "ã¿ã‚Šã‚“", "qty": 170, "unit": "ml", "category": "èª¿å‘³æ–™" },
    { "name": "é…’", "qty": 40, "unit": "ml", "category": "èª¿å‘³æ–™" },
    { "name": "å¡©", "qty": 47, "unit": "g", "category": "èª¿å‘³æ–™" },
    { "name": "ç ‚ç³–", "qty": 60, "unit": "g", "category": "èª¿å‘³æ–™" },
    { "name": "ã‚±ãƒãƒ£ãƒƒãƒ—", "qty": 100, "unit": "ml", "category": "èª¿å‘³æ–™" },
    { "name": "ãƒãƒ¨ãƒãƒ¼ã‚º", "qty": 60, "unit": "ml", "category": "èª¿å‘³æ–™" },
    { "name": "ãƒ‰ãƒ¬ãƒƒã‚·ãƒ³ã‚°", "qty": 60, "unit": "ml", "category": "èª¿å‘³æ–™" },
    { "name": "ã‚·ãƒ¼ã‚¶ãƒ¼ãƒ‰ãƒ¬ãƒƒã‚·ãƒ³ã‚°", "qty": 60, "unit": "ml", "category": "èª¿å‘³æ–™" },
    { "name": "ã”ã¾æ²¹", "qty": 15, "unit": "ml", "category": "èª¿å‘³æ–™" },
    { "name": "ã‚³ãƒ³ã‚½ãƒ¡", "qty": 6, "unit": "å€‹", "category": "èª¿å‘³æ–™" },
    { "name": "ã ã—", "qty": 3200, "unit": "ml", "category": "èª¿å‘³æ–™" }
  ]
}
```

---

## å¤‰æ•°å®šç¾©

Difyã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã§ä½¿ç”¨ã™ã‚‹å¤‰æ•°ã®å®šç¾©ã§ã™ã€‚

### å…¥åŠ›å¤‰æ•°

| å¤‰æ•°å | å‹ | å¿…é ˆ | èª¬æ˜ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ |
|-------|-----|-----|------|------------|
| `family_size` | number | âœ… | å®¶æ—ã®äººæ•° | - |
| `likes` | string | âŒ | å¥½ããªæ–™ç†ãƒ»é£Ÿæï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰ | `""` |
| `dislikes` | string | âŒ | è‹¦æ‰‹ãªé£Ÿæï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰ | `""` |
| `preferred_types` | array | âŒ | å¥½ããªæ–™ç†ã‚¸ãƒ£ãƒ³ãƒ« | `[]` |
| `family_mode` | boolean | âŒ | å®¶æ—ãƒ¢ãƒ¼ãƒ‰ã®ã‚ªãƒ³/ã‚ªãƒ• | `false` |
| `family_members` | array | âŒ | å®¶æ—ãƒ¡ãƒ³ãƒãƒ¼æƒ…å ± | `[]` |
| `week_start` | string | âœ… | é€±ã®é–‹å§‹æ—¥ï¼ˆYYYY-MM-DDï¼‰ | - |
| `week_end` | string | âœ… | é€±ã®çµ‚äº†æ—¥ï¼ˆYYYY-MM-DDï¼‰ | - |
| `cooking_history` | array | âŒ | èª¿ç†å±¥æ­´ | `[]` |
| `favorite_dishes` | array | âŒ | ãŠæ°—ã«å…¥ã‚Šæ–™ç†ãƒªã‚¹ãƒˆ | `[]` |

### å‡ºåŠ›å¤‰æ•°

| å¤‰æ•°å | å‹ | èª¬æ˜ |
|-------|-----|------|
| `menu` | array | 7æ—¥åˆ†ã®çŒ®ç«‹ãƒ‡ãƒ¼ã‚¿ |
| `shopping_list` | array | çµ±åˆã•ã‚ŒãŸè²·ã„ç‰©ãƒªã‚¹ãƒˆ |

### ãƒã‚¹ãƒˆã•ã‚ŒãŸå¤‰æ•°ã®æ§‹é€ 

#### family_members[i]

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å‹ | èª¬æ˜ |
|-----------|-----|------|
| `id` | string | ãƒ¡ãƒ³ãƒãƒ¼ID |
| `name` | string | åå‰ |
| `birth_date` | string | ç”Ÿå¹´æœˆæ—¥ï¼ˆYYYY-MM-DDï¼‰ |
| `age` | number | å¹´é½¢ |
| `gender` | string | æ€§åˆ¥ï¼ˆmale/female/otherï¼‰ |
| `appetite_level` | number | é£Ÿæ¬²ãƒ¬ãƒ™ãƒ«ï¼ˆ1-5ï¼‰ |
| `favorite_foods` | string | å¥½ããªæ–™ç† |
| `disliked_foods` | string | è‹¦æ‰‹ãªé£Ÿæ |

#### cooking_history[i]

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å‹ | èª¬æ˜ |
|-----------|-----|------|
| `dish_name` | string | æ–™ç†å |
| `cooked_date` | string | èª¿ç†æ—¥ï¼ˆYYYY-MM-DDï¼‰ |
| `taste_rating` | number | ãŠã„ã—ã•è©•ä¾¡ï¼ˆ1-5ï¼‰ |
| `cooking_time_rating` | number | èª¿ç†æ™‚é–“è©•ä¾¡ï¼ˆ1-5ï¼‰ |
| `repeat_desire` | number | ãƒªãƒ”ãƒ¼ãƒˆå¸Œæœ›åº¦ï¼ˆ1-5ï¼‰ |
| `overall_score` | number | ç·åˆã‚¹ã‚³ã‚¢ |
| `rank` | string | ãƒ©ãƒ³ã‚¯ï¼ˆA/B/C/Dï¼‰ |
| `notes` | string | ãƒ¡ãƒ¢ |

#### favorite_dishes[i]

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å‹ | èª¬æ˜ |
|-----------|-----|------|
| `dish_name` | string | æ–™ç†å |

#### menu[i]

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å‹ | èª¬æ˜ |
|-----------|-----|------|
| `day` | string | æ›œæ—¥ï¼ˆæœˆã€œæ—¥ï¼‰ |
| `date` | string | æ—¥ä»˜ï¼ˆYYYY-MM-DDï¼‰ |
| `dish` | string | ä¸»èœå |
| `ingredients` | object | å®Œå…¨ãªçŒ®ç«‹ |

#### menu[i].ingredients.dishes[j]

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å‹ | èª¬æ˜ |
|-----------|-----|------|
| `category` | string | ã‚«ãƒ†ã‚´ãƒªï¼ˆä¸»é£Ÿ/ä¸»èœ/å‰¯èœ/æ±ç‰©ï¼‰ |
| `name` | string | æ–™ç†å |
| `ingredients` | array | é£Ÿæãƒªã‚¹ãƒˆ |

#### menu[i].ingredients.dishes[j].ingredients[k]

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å‹ | èª¬æ˜ |
|-----------|-----|------|
| `name` | string | é£Ÿæå |
| `qty` | number | æ•°é‡ |
| `unit` | string | å˜ä½ |

#### shopping_list[i]

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å‹ | èª¬æ˜ |
|-----------|-----|------|
| `name` | string | é£Ÿæå |
| `qty` | number | åˆè¨ˆæ•°é‡ |
| `unit` | string | å˜ä½ |
| `category` | string | ã‚«ãƒ†ã‚´ãƒª |

---

## Dify ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æ¨å¥¨æ§‹æˆ

```
1. [å…¥åŠ›] ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆå—ä»˜
   â†“
2. [å¤‰æ•°è¨­å®š] å¿…è¦ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®æŠ½å‡ºã¨æ¤œè¨¼
   â†“
3. [æ¡ä»¶åˆ†å²] family_mode ã®åˆ¤å®š
   â†“
4. [LLM] ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç”Ÿæˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå®Ÿè¡Œ
   â†“
5. [ã‚³ãƒ¼ãƒ‰å®Ÿè¡Œ] JSON ã®æ¤œè¨¼ã¨ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
   â†“
6. [å‡ºåŠ›] ç”Ÿæˆã•ã‚ŒãŸçŒ®ç«‹ã®è¡¨ç¤º
```

### ãƒãƒ¼ãƒ‰è©³ç´°

#### 1. å…¥åŠ›ãƒãƒ¼ãƒ‰
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç™ºè©±ã‚’å—ã‘å–ã‚‹
- å¿…é ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®æœ‰ç„¡ã‚’ç¢ºèª

#### 2. å¤‰æ•°è¨­å®šãƒãƒ¼ãƒ‰
- `family_size` ãŒæœªè¨­å®šã®å ´åˆã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¨­å®š
- æ—¥ä»˜ã®è¨ˆç®—ï¼ˆweek_start, week_endï¼‰
- cooking_history ã¨ favorite_dishes ã®å–å¾—

#### 3. æ¡ä»¶åˆ†å²ãƒãƒ¼ãƒ‰
- `family_mode` ãŒ true ã®å ´åˆã€family_members ã‚’å–å¾—
- false ã®å ´åˆã€å€‹äººè¨­å®šã®ã¿ä½¿ç”¨

#### 4. LLMãƒãƒ¼ãƒ‰
- ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’çµåˆ
- GPT-4 ã¾ãŸã¯ Claude ã‚’ä½¿ç”¨æ¨å¥¨
- Temperature: 0.7ï¼ˆãƒãƒ©ãƒ³ã‚¹é‡è¦–ï¼‰
- JSON ãƒ¢ãƒ¼ãƒ‰æœ‰åŠ¹åŒ–

#### 5. ã‚³ãƒ¼ãƒ‰å®Ÿè¡Œãƒãƒ¼ãƒ‰ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
```python
import json

def validate_menu(menu_json):
    """çŒ®ç«‹JSONã®æ¤œè¨¼"""
    menu = json.loads(menu_json)

    # 7æ—¥åˆ†ã‚ã‚‹ã‹ç¢ºèª
    assert len(menu['menu']) == 7, "7æ—¥åˆ†ã®çŒ®ç«‹ãŒå¿…è¦ã§ã™"

    # å„æ—¥ã®å¿…é ˆé …ç›®ã‚’ç¢ºèª
    for day_menu in menu['menu']:
        assert 'day' in day_menu
        assert 'date' in day_menu
        assert 'dish' in day_menu
        assert 'ingredients' in day_menu

    return menu
```

#### 6. å‡ºåŠ›ãƒãƒ¼ãƒ‰
- ç”Ÿæˆã•ã‚ŒãŸçŒ®ç«‹ã‚’æ•´å½¢ã—ã¦è¡¨ç¤º
- è²·ã„ç‰©ãƒªã‚¹ãƒˆã‚‚ä½µã›ã¦è¡¨ç¤º

---

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•

#### å•é¡Œ1: è‹¦æ‰‹ãªé£ŸæãŒå«ã¾ã‚Œã¦ã„ã‚‹
**åŸå› **: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå†…ã®é™¤å¤–ãƒ­ã‚¸ãƒƒã‚¯ãŒä¸ååˆ†
**è§£æ±º**: ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«ã€Œçµ¶å¯¾ã«ä½¿ç”¨ã—ãªã„ã§ãã ã•ã„ã€ã‚’å¼·èª¿

#### å•é¡Œ2: åŒã˜æ–™ç†ãŒé‡è¤‡ã™ã‚‹
**åŸå› **: é‡è¤‡ãƒã‚§ãƒƒã‚¯ã®ãƒ­ã‚¸ãƒƒã‚¯ãŒä¸è¶³
**è§£æ±º**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«ã€ŒåŒã˜é€±ã«åŒã˜ä¸»èœã¯ä½¿ç”¨ã—ãªã„ã€ã‚’è¿½åŠ 

#### å•é¡Œ3: JSONå½¢å¼ãŒä¸æ­£
**åŸå› **: LLMãŒJSONä»¥å¤–ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’å‡ºåŠ›
**è§£æ±º**:
- JSON ãƒ¢ãƒ¼ãƒ‰ã‚’æœ‰åŠ¹åŒ–
- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«ã€Œå¿…ãšJSONå½¢å¼ã®ã¿ã§å‡ºåŠ›ã€ã‚’æ˜è¨˜
- ã‚³ãƒ¼ãƒ‰å®Ÿè¡Œãƒãƒ¼ãƒ‰ã§æ¤œè¨¼

#### å•é¡Œ4: æ•°é‡è¨ˆç®—ãŒä¸é©åˆ‡
**åŸå› **: family_size ã®è€ƒæ…®ãŒä¸ååˆ†
**è§£æ±º**: ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«å…·ä½“çš„ãªè¨ˆç®—å¼ã‚’è¨˜è¼‰

---

## ä½¿ç”¨ä¾‹

### Dify ã§ã®è¨­å®šæ‰‹é †

1. **æ–°è¦ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’ä½œæˆ**
2. **LLMãƒãƒ¼ãƒ‰ã‚’è¿½åŠ **
   - ãƒ¢ãƒ‡ãƒ«: GPT-4 ã¾ãŸã¯ Claude-3.5-Sonnet
   - System Prompt: ä¸Šè¨˜ã®ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ã‚³ãƒ”ãƒ¼
   - User Prompt: ä¸Šè¨˜ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ã‚³ãƒ”ãƒ¼
   - Temperature: 0.7
   - JSON Mode: ON

3. **å…¥åŠ›å¤‰æ•°ã‚’è¨­å®š**
   - ã™ã¹ã¦ã®å…¥åŠ›å¤‰æ•°ã‚’å®šç¾©
   - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¨­å®š

4. **ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ**
   - æœ€å°é™ã®å…¥åŠ›ã§ãƒ†ã‚¹ãƒˆ
   - å®¶æ—ãƒ¢ãƒ¼ãƒ‰ã§ãƒ†ã‚¹ãƒˆ
   - å±¥æ­´ã‚ã‚Šã§ãƒ†ã‚¹ãƒˆ

5. **æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤**
   - API ã¨ã—ã¦å…¬é–‹
   - ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‹ã‚‰å‘¼ã³å‡ºã—

---

## ã¾ã¨ã‚

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€Difyã§ã€Œé­”æ³•ã®ã‚­ãƒƒãƒãƒ³ã€ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç”Ÿæˆæ©Ÿèƒ½ã‚’å®Ÿè£…ã§ãã¾ã™ã€‚

é‡è¦ãªãƒã‚¤ãƒ³ãƒˆï¼š
- âœ… å¿…ãš7æ—¥åˆ†ã®çŒ®ç«‹ã‚’ç”Ÿæˆ
- âœ… è‹¦æ‰‹ãªé£Ÿæã¯çµ¶å¯¾ã«ä½¿ç”¨ã—ãªã„
- âœ… å®¶æ—å…¨å“¡ã®å¥½ã¿ã‚’è€ƒæ…®
- âœ… éå»ã®è©•ä¾¡ã‚’åæ˜ 
- âœ… ãƒãƒ©ãƒ³ã‚¹ã®å–ã‚ŒãŸçŒ®ç«‹æ§‹æˆ
- âœ… JSONå½¢å¼ã§æ­£ç¢ºã«å‡ºåŠ›
